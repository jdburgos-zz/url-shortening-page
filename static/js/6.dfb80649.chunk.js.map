{"version":3,"sources":["components/AuthForm/AuthForm.module.scss","config/firebase/index.js","components/AuthForm/AuthForm.js","pages/Login/Login.js","pages/Login/Login.module.scss"],"names":["module","exports","app","initializeApp","apiKey","process","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","projectId","REACT_APP_FIREBASE_PROJECT_ID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APP_ID","auth","getAuth","AuthForm","title","btnText","submit","isLoading","inputUserRef","useRef","inputPasswordRef","inputUserAttrs","ref","placeholder","type","inputPasswordAttrs","btnContent","Loader","className","styles","input","onClick","bind","Login","navigate","useNavigate","useState","setIsLoading","dispatch","useDispatch","handleSubmit","email","password","a","signInWithEmailAndPassword","current","value","response","user","authToken","accessToken","userEmail","emailVerified","isLoggedIn","authActions","setUser","localStorage","setItem","JSON","stringify","code","alert","login"],"mappings":"oHACAA,EAAOC,QAAU,CAAC,YAAY,4BAA4B,uBAAuB,uCAAuC,mBAAmB,mCAAmC,mBAAmB,qC,gCCDjM,sDAIMC,EAAMC,YAAc,CACxBC,OAAQC,mIAAYC,2BACpBC,WAAYF,mIAAYG,+BACxBC,UAAWJ,mIAAYK,8BACvBC,cAAeN,mIAAYO,kCAC3BC,kBAAmBR,mIAAYS,uCAC/BC,MAAOV,mIAAYW,4BAGRC,EAAOC,YAAQhB,I,qHCHfiB,EAAW,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UAC3CC,EAAeC,mBACfC,EAAmBD,mBAEnBE,EAAiB,CACrBC,IAAKJ,EACLK,YAAa,OACbC,KAAM,QAEFC,EAAqB,CACzBH,IAAKF,EACLG,YAAa,WACbC,KAAM,YAGFE,EAAaT,EAAY,cAACU,EAAA,EAAD,IAAaZ,EAE5C,OACE,sBAAKa,UAAWC,IAAO,aAAvB,UACE,oBAAID,UAAWC,IAAO,oBAAtB,SAA4Cf,IAC5C,sBAAKc,UAAWC,IAAO,wBAAvB,UACE,cAAC,IAAD,CAAOD,UAAWC,IAAO,oBAAqBC,MAAOT,IACrD,cAAC,IAAD,CAAOO,UAAWC,IAAO,oBAAqBC,MAAOL,IACrD,cAAC,IAAD,CACEG,UAAWC,IAAO,kBAClBL,KAAK,iBACLO,QAASf,EAAOgB,KAAK,KAAMd,EAAcE,GAH3C,SAKGM,Y,gMClBI,SAASO,IACtB,IAAMC,EAAWC,cACjB,EAAkCC,oBAAS,GAA3C,mBAAOnB,EAAP,KAAkBoB,EAAlB,KACMC,EAAWC,cAEXC,EAAY,uCAAG,WAAOC,EAAOC,GAAd,yBAAAC,EAAA,sEAEjBN,GAAa,GAFI,SAIMO,YACrBjC,IACA8B,EAAMI,QAAQC,MACdJ,EAASG,QAAQC,OAPF,OAIXC,EAJW,SASmDA,EAASC,KAAxDC,EATJ,EASTC,YAA+BC,EATtB,EASeV,MAAkBW,EATjC,EASiCA,cAC5CJ,EAAO,CAAEC,YAAWR,MAAOU,EAAWC,gBAAeC,YAAY,GAEvEhB,GAAa,GACbC,EAASgB,IAAYC,QAAQP,IAC7BQ,aAAaC,QAAQ,OAAQC,KAAKC,UAAUX,IAC5Cd,EAAS,UAfQ,kDAiBF,uBAAX,KAAE0B,MACJC,MAAM,iBAGO,wBAAX,KAAED,MACJC,MAAM,kBAGO,wBAAX,KAAED,MACJC,MAAM,kBA1BS,0DAAH,wDA+BlB,OACE,qBAAKjC,UAAWC,IAAOiC,MAAvB,SACE,cAAC,IAAD,CAAUhD,MAAM,QAAQC,QAAQ,QAAQC,OAAQwB,EAAcvB,UAAWA,Q,mBCzD/EvB,EAAOC,QAAU,CAAC,MAAQ","file":"static/js/6.dfb80649.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth-form\":\"AuthForm_auth-form__tLEbk\",\"auth-form__container\":\"AuthForm_auth-form__container__mHacr\",\"auth-form__title\":\"AuthForm_auth-form__title__1ShyR\",\"auth-form__input\":\"AuthForm_auth-form__input__1deXa\"};","/** Dependencies **/\nimport { initializeApp } from 'firebase/app';\nimport { getAuth } from 'firebase/auth';\n\nconst app = initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const auth = getAuth(app);\n","/** React core **/\nimport React, { useRef } from 'react';\n\n/** Components **/\nimport { Button, Input } from '../ui';\nimport { Loader } from '../Loader';\n\n/** Styles **/\nimport styles from './AuthForm.module.scss';\n\nexport const AuthForm = ({ title, btnText, submit, isLoading }) => {\n  const inputUserRef = useRef();\n  const inputPasswordRef = useRef();\n\n  const inputUserAttrs = {\n    ref: inputUserRef,\n    placeholder: 'User',\n    type: 'text',\n  };\n  const inputPasswordAttrs = {\n    ref: inputPasswordRef,\n    placeholder: 'Password',\n    type: 'password',\n  };\n\n  const btnContent = isLoading ? <Loader /> : btnText;\n\n  return (\n    <div className={styles['auth-form']}>\n      <h2 className={styles['auth-form__title']}>{title}</h2>\n      <div className={styles['auth-form__container']}>\n        <Input className={styles['auth-form__input']} input={inputUserAttrs} />\n        <Input className={styles['auth-form__input']} input={inputPasswordAttrs} />\n        <Button\n          className={styles['auth-form__btn']}\n          type=\"semi-rectangle\"\n          onClick={submit.bind(null, inputUserRef, inputPasswordRef)}\n        >\n          {btnContent}\n        </Button>\n      </div>\n    </div>\n  );\n};\n","/** React core **/\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\n/** Dependencies **/\nimport { signInWithEmailAndPassword } from 'firebase/auth';\n\n/** Components **/\nimport { AuthForm } from 'components/AuthForm';\n\n/** Styles **/\nimport styles from './Login.module.scss';\n\n/** Config **/\nimport { auth } from 'config/firebase';\n\n/** Actions **/\nimport { authActions } from 'store/auth/auth.reducer';\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (email, password) => {\n    try {\n      setIsLoading(true);\n\n      const response = await signInWithEmailAndPassword(\n        auth,\n        email.current.value,\n        password.current.value,\n      );\n      const { accessToken: authToken, email: userEmail, emailVerified } = response.user;\n      const user = { authToken, email: userEmail, emailVerified, isLoggedIn: true };\n\n      setIsLoading(false);\n      dispatch(authActions.setUser(user));\n      localStorage.setItem('user', JSON.stringify(user));\n      navigate('/admin');\n    } catch (e) {\n      if (e.code === 'auth/invalid-email') {\n        alert('invalid email');\n      }\n\n      if (e.code === 'auth/wrong-password') {\n        alert('wrong password');\n      }\n\n      if (e.code === 'auth/user-not-found') {\n        alert('user not found');\n      }\n    }\n  };\n\n  return (\n    <div className={styles.login}>\n      <AuthForm title=\"Login\" btnText=\"Login\" submit={handleSubmit} isLoading={isLoading} />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__PjBUD\"};"],"sourceRoot":""}